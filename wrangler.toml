name = "pruno-backend"
main = "apps/backend/src/index.ts"
compatibility_date = "2024-01-01"

# Tell Cloudflare to use npm install instead of npm ci
[build]
command = "npm install && npm run build -w packages/shared"

[durable_objects]
bindings = [
    { name = "GAME_ROOM", class_name = "GameRoom" }
]

# Free plan requires new_sqlite_classes instead of new_classes
[[migrations]]
tag = "v1"
new_sqlite_classes = ["GameRoom"]
